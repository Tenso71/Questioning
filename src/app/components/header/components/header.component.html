<!--
  @component NavbarComponentTemplate
  @description Template del componente Navbar.
  Este componente muestra el logo, la barra de b煤squeda, los botones de navegaci贸n y la informaci贸n del usuario con un men煤 desplegable.
-->
<nav class="navbar">
  <div class="container">
    <!--
      @name NavbarBrand
      @description Enlace principal del navbar que contiene el logo.
      Al hacer clic, se invoca la funci贸n recargarPagina() para recargar la p谩gina.
    -->
    <a class="navbar-brand" href="" (click)="irA('/')">
      <img src="/images/logo.png" alt="Questioning Logo" class="logo" />
    </a>

    <!--
      @name NavbarContent
      @description Contenedor principal del contenido del navbar.
    -->
    <div class="navbar-content">
      <!--
        @subsection SearchContainer
        @description Contenedor de la barra de b煤squeda.
        Permite buscar contenido en Questioning.
      -->
      <div class="search-container">
        <form class="search-form" (submit)="$event.preventDefault()">
          <input 
            #searchInput
            class="search-input" 
            type="search" 
            placeholder="Busca en Questioning"
            (input)="onSearchChange(searchInput.value)">
         
            <i class="bi bi-search"></i>
       
        </form>
      </div>

      <!--
        @subsection NavRight
        @description Secci贸n derecha del navbar que contiene botones de acci贸n y la informaci贸n del usuario.
      -->
      <div class="nav-right">
        <!--
          @subsubsection NavbarButtons
          @description Lista de botones para acceder a Ajustes y Subir Publicaci贸n.
        -->
        <div class="navbar-buttons">
          <li>
            <button class="btn-nav" (click)="irA('/settings')">Ajustes</button>
          </li>
          <li>
            <button class="btn-nav" (click)="irA('/subirpublicacion')">Subir Publicaci贸n</button>
          </li>
        </div>

        <!--
          @subsubsection UserInfo
          @description Muestra la informaci贸n del usuario, incluyendo el nombre y la imagen de perfil.
          Al hacer clic en el bot贸n se despliega el men煤 de usuario.
        -->
        <div class="user-info">
          <button class="btn-user" (click)="toggleDropdown()">
            <span class="username">{{ usuario.nombre }}</span>
            <img src="images/dd.jpg" alt="Perfil" class="user-img">
          </button>

          <!--
            @subsubsection DropdownMenu
            @description Men煤 desplegable que ofrece opciones de navegaci贸n, como iniciar sesi贸n o acceder a ajustes.
            Se muestra cuando la variable 'dropdownOpen' es verdadera.
          -->
          <div class="dropdown-menu" [class.show]="dropdownOpen">
            <button class="dropdown-item" (click)="irA('/login')">Iniciar Sesi贸n</button>
            <button class="dropdown-item" (click)="irA('/settings')">Ajustes</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
